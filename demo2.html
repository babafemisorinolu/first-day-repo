<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>

    <!-- //js-cookie Library -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>
    <!-- Importing the Jquery Library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <script>
        // Session Management Using Cookies
        //https://www.jsdelivr.com/package/npm/js-cookie 
        // Referenes - https://www.w3schools.com/js/js_cookies.asp

        // Create a cookie: Cookies.set('name', 'value')

        Cookies.set('name', 'babafemi')

        // Read cookie: Cookies.get('name') // => 'value'
        var cookieVal= Cookies.get('name')
        alert(cookieVal)
        console.log(Cookies.get())
        // Cookies.remove('name')

      

    </script>
</head>
<body>
    

    <h1> Check User Info - Get Call Demo</h1>
    <form name="UserInfoForm" method="GET" action="#">
        <input type="text" placeholder="enter your userid" id="userid" name="userid" />
        <button onclick="getCall()"> Get Student Info</button>
    </form>
    

    <h1> Login - Post Call Demo</h1>
    <form name="LoginForm" method="POST">
        <input type="text" placeholder="enter your username" id="username" name="username" />
        <input type="password" placeholder="enter your password" id="pwd" name="pwd" />
        <button onclick="postCall()"> Login</button>
    </form>


    <script>
        // References
        // https://www.w3schools.com/jquery/jquery_ajax_get_post.asp

        function getCall(){
            // $.get(URL,callback); -- Syntax

            //get the input from the form
            var userId= document.getElementById('userid').value
            var url=`http://localhost:40001/api/users/${userId}`;
            alert(url);
            $.get(url, function(data, status){
                alert("Data: " + data + "\nStatus: " + status);
            });
        }

        function postCall(){
            // $.post(URL,data,callback); -- Syntax

            //get the user inputs from the form
            var userId= document.getElementById('username').value
            var pwd= document.getElementById('pwd').value
            var url=`http://localhost:40001/api/users`;
            var data = {
                'userid': userId,
                'password': pwd
            }
            
            alert(url);
            console.log(data)
            alert(data);
            
            $.post(url,
                data,
                function(data, status){
                    alert("Data: " + data + "\nStatus: " + status);
                });
        }

          // A $( document ).ready() block.
          $( document ).ready(function() {
            console.log( "ready!" );
            Cookies.set('name', 'babafemi')

        // Read cookie: Cookies.get('name') // => 'value'
        var cookieVal= Cookies.get('name')
        alert(cookieVal)
        });
    </script>

</body>
</html>